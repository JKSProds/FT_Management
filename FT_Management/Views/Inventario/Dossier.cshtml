@model FT_Management.Models.Picking

@{
    ViewData["Title"] = "Inventário - Armazém " + Model.NomeCliente;
}
<div class="pageloader is-info" id="pageloader"><span class="title">A carregar ...</span></div>
    <div class="container">
        <div class="columns">
            <div class="column">
                <div class="tile">
                    <div class="tile is-parent is-vertical">
                        <article class="tile is-child notification is-info">
                            <p class="title">
                                <span class="icon mr-3">
                                   <i class="fa-solid fa-barcode"></i>
                                </span>
                                <span>Inventário Nº @Model.IdPicking (@Model.EditadoPor)</span>
                            </p>
                        </article>
                    </div>
                </div>
            </div>
            <div class="column my-auto">
                <div class="field is-horizontal">
                  <div class="field-body">
                    <div class="field">
                      <p class="control is-expanded has-icons-left">
                        <input class="input" type="text" readonly value="@Model.NomeCliente">
                        <span class="icon is-small is-left">
                            <i class="fas fa-warehouse"></i>
                        </span>
                      </p>
                    </div>
                    <div class="field">
                      <div class="control">
                        <a class="button is-info is-outlined"  onclick="AdicionarReferencia()">
                            <span class="icon">
                                <i class="fas fa-plus"></i>
                            </span>
                            <span>Adicionar</span>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="field is-horizontal">
                      <div class="field-body">
                       <form asp-action="Dossier" method="get">

                       </form>
                        <div class="field">
                          <p class="control is-expanded has-icons-left">
                            <input class="input" type="text" name="referencia" placeholder="Referência">
                            <span class="icon is-small is-left">
                                <i class="fa-solid fa-arrow-down-1-9""></i>
                            </span>
                          </p>
                        </div>
                        <div class="field">
                          <div class="control">
                            <a class="button is-info is-outlined"  onclick="AdicionarReferencia()">
                                <span class="icon">
                                    <i class="fas fa-search"></i>
                                </span>
                                <span>Pesquisar</span>
                            </a>
                          </div>
                        </div>
                      </div>
                     
                </div>
            </div>
        </div>
    </div>
<hr />  
@if (Model.Linhas.Count() == 0)
{
        <button class="button is-danger is-rounded is-outlined is-large is-fullwidth" disabled>Não foram encontradas linhas!</button>
}
else{
    <div class="container">
    <div class="b-table">
    <div class="table-wrapper has-mobile-cards"> 
        <table class="table is-hoverable is-fullwidth">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Linhas.First().Ref_linha)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Linhas.First().Nome_Linha)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model =>  model.Linhas.First().Qtd_Linha)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Linhas.First().EditadoPor)
                    </th>
                    <th>
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Linhas)
                {
                    <tr style="width:auto">
                        <td data-label="@Html.DisplayNameFor(model => model.Linhas.First().Ref_linha)">
                            <span>@item.Ref_linha</span>
                        </td>
                        <td data-label="@Html.DisplayNameFor(model => model.Linhas.First().Nome_Linha)">
                            <span>@item.Nome_Linha</span>
                        </td>
                        <td data-label="@Html.DisplayNameFor(model => model.Linhas.First().Qtd_Linha)">
                            <span >@item.Qtd_Linha @item.TipoUnidade</span>
                        </td>
                        <td data-label="@Html.DisplayNameFor(model => model.Linhas.First().EditadoPor)">
                            <span>@item.EditadoPor</span>
                        </td>
                        <td style="min-width: 240px" class="is-actions-cell">
                            @if (item.Serie)
                                {
                                    <a class="button is-info" style="width:45%" onclick="abrirModalSerie('@item.Picking_Linha_Stamp')"><i class="fas fa-eye"></i></a>
                                }
                                <a class="button is-danger" style="width:45%" onclick="ConfirmApagarLinha('@item.Picking_Linha_Stamp')"><i class="fas fa-trash-can"></i></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        </div>
        </div>
    </div>
}

<script>

</script>